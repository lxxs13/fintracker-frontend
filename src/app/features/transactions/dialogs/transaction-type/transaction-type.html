<div class="flex flex-col justify-center !w-full">
  <div class="flex flex-col gap-4">
    <p-float-label variant="on" class="mt-2">
      <p-inputnumber [(ngModel)]="balance" inputId="balnce_input" mode="currency" currency="USD" locale="en-US"
        autocomplete="off" size="large" fluid />
      <label for="balance_input">Balance</label>
    </p-float-label>

    <p-float-label variant="on" class="mt-2">
      <input pInputText fluid id="input_description" pSize="large" [(ngModel)]="desc" [autocomplete]="false" />
      <label for="input_description">Descripción</label>
    </p-float-label>

    <p-float-label variant="on" class="mt-2">
      <p-datepicker [(ngModel)]="spentDate" fluid dateFormat="dd/mm/yy" appendTo="body" size="large" />
      <label for="input_transaction_date">Fecha de transacción</label>
    </p-float-label>

    <p-float-label variant="on" class="mt-2">
      <p-select id="input_account" [options]="accountsGroup" [(ngModel)]="selectedAccount" [group]="true" size="large"
        fluid>
        <ng-template let-group #group>
          <div class="flex items-center">
            <span>{{ group.label }}</span>
          </div>
        </ng-template>
      </p-select>
      <label for="input_account">Seleccione cuenta</label>

    </p-float-label>

    <p-float-label variant="on" class="mt-2">
      <p-select id="input_selected_category"
        [options]="categoryTypeList(transactionType) ? categoriesSpendList : categoriesIncomesList" size="large"
        [(ngModel)]="selectedCategory" optionLabel="categoryName" fluid appendTo="body">
        <ng-template pTemplate="item" let-item>
          <div class="flex items-center gap-2">
            <span class="material-symbols-outlined rounded-md p-2"
              [ngClass]="item.iconColor | iconColorClass">
              {{ item.iconLabel }}
            </span>

            <span>{{ item.categoryName }}</span>
          </div>
        </ng-template>
      </p-select>

      <label for="input_selected_category">Categoría</label>
    </p-float-label>

    <p-float-label variant="on">
      <textarea id="input_descripcion" rows="3" cols="30" pTextarea [(ngModel)]="notes" fluid></textarea>
      <label for="input_descripcion">Notas</label>
    </p-float-label>
  </div>

  <div
    class="sticky bottom-0 z-20 px-4 py-3 bg-[var(--p-surface-0)]/90 backdrop-blur-md border-t border-[var(--p-content-border-color)]">
    <div class="flex justify-end gap-4">
      <p-button label="Cancelar" severity="secondary" (onClick)="closeDialog()"/>

      <p-button label="Guardar" severity="primary" (onClick)="saveChanges()" />
    </div>
  </div>
